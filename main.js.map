{"version":3,"file":"main.js","mappings":"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","sources":["webpack://modern-image-manager/./src/js/loadExistingImages .js","webpack://modern-image-manager/./src/js/checkImageCount.js","webpack://modern-image-manager/./src/js/removeImg.js","webpack://modern-image-manager/./src/js/createNewContainer.js","webpack://modern-image-manager/./src/js/displayImg.js","webpack://modern-image-manager/./src/js/canAddMoreImages.js","webpack://modern-image-manager/./src/js/addImg.js","webpack://modern-image-manager/./src/js/app.js","webpack://modern-image-manager/./src/index.js"],"sourcesContent":["const baseURL = 'http://localhost:3000';\n\nexport async function loadExistingImages() {\n    try {\n        const response = await fetch(`${baseURL}/files`);\n        const { files } = await response.json();\n\n        files.forEach(file => {\n            createNewImgContainer(file.id, file.path, file.name);\n        });\n    } catch (error) {\n        console.error(error);\n    }\n};","export async function checkImageCount() { \n    const imagesCount = document.querySelectorAll('.image').length;\n    let preImgContainer = document.querySelector('.preimg-container');\n\n    if (imagesCount >= 10 && preImgContainer) {\n        preImgContainer.remove();\n        preImgContainer = null;\n    } else if (imagesCount < 10 && !preImgContainer) { \n        preImgContainer = document.createElement('div');\n        preImgContainer.classList.add('preimg-container');\n\n        const preImg = document.createElement('div');\n        preImg.classList.add('pre-img');\n        \n        const preButton = document.createElement('button');\n        preButton.classList.add('img-btn');\n        preButton.textContent = 'X';\n\n        preImgContainer.appendChild(preImg);\n        preImgContainer.appendChild(preButton);\n        images.appendChild(preImgContainer);\n    }\n};","import { checkImageCount } from './checkImageCount';\nconst images = document.querySelector('.images');\nconst baseURL = 'http://localhost:3000';\n\nimages.addEventListener('click', async (e) => {\n    if (e.target.classList.contains('remove-img-btn')) {\n        const imgContainer = e.target.closest('.img-container');\n        const fileId = imgContainer.dataset.id;\n\n        try {\n            const response = await fetch(`${baseURL}/files/${fileId}`, {\n                method: 'DELETE',\n            });\n\n            if (!response.ok) {\n                throw new Error('Failed to delete image');\n            }\n\n            imgContainer.remove();\n            checkImageCount();\n        } catch (error) {\n            console.error(error);\n        }\n    }\n});","export function createNewImgContainer(id, path, name) {\n    let preImgContainer = document.querySelector('.preimg-container');\n\n    const newImgContainer = document.createElement('div');\n    newImgContainer.classList.add('img-container');\n    newImgContainer.dataset.id = id;\n\n    const imgElement = document.createElement('img');\n    imgElement.src = path;\n    imgElement.dataset.name = name;\n    imgElement.classList.add('image');\n\n    const newButton = document.createElement('button');\n    newButton.classList.add('remove-img-btn', 'img-btn');\n    newButton.textContent = 'X';\n\n    newImgContainer.appendChild(imgElement);\n    newImgContainer.appendChild(newButton);\n\n    preImgContainer.insertAdjacentElement('beforebegin', newImgContainer);\n};","import { createNewImgContainer } from './createNewContainer';\nimport { checkImageCount } from './checkImageCount';\n\nconst baseURL = 'http://localhost:3000';\n\nexport async function displayImg(file) {\n    try {\n        console.log('Uploading file:', file); \n\n        const formData = new FormData();\n        formData.append('file', file);\n\n        const response = await fetch(`${baseURL}/files`, {\n            method: 'POST',\n            body: formData,\n        });\n\n        if (!response.ok) {\n            throw new Error('Failed to upload image');\n        }\n\n        const { file: uploadedFile } = await response.json();\n        console.log('Uploaded file:', uploadedFile); \n\n        createNewImgContainer(uploadedFile.id, uploadedFile.path, uploadedFile.name);\n        checkImageCount();\n    } catch (error) {\n        console.error('Error uploading image:', error);\n    }\n};\n","export function canAddMoreImages() {\n    const imagesCount = document.querySelectorAll('.image').length;\n    return imagesCount < 10;\n};","import { displayImg } from './displayImg';\nimport { canAddMoreImages } from './canAddMoreImages';\n\nconst dndContainer = document.querySelector('.dnd-container');\nconst imgInput = document.querySelector('.input-img');\n\nimgInput.addEventListener('change', (e) => {\n    const files = e.target.files;\n    Array.from(files).forEach((file) => {\n        if (canAddMoreImages()) {\n            displayImg(file).catch(error => {\n                console.error('Error uploading image:', error);\n            });\n        }\n    });\n});\n\ndndContainer.addEventListener('drop', (e) => {\n    e.preventDefault();\n    const files = e.dataTransfer.files;\n    Array.from(files).forEach((file) => {\n        if (canAddMoreImages()) {\n            displayImg(file).catch(error => {\n                console.error('Error uploading image:', error);\n            });\n        }\n    });\n});\n\n","import { loadExistingImages } from './loadExistingImages ';\nimport './removeImg';\nimport './addImg';\n\nloadExistingImages();","import './css/style.css';\nimport './js/app';"],"names":["baseURL","loadExistingImages","response","fetch","files","json","forEach","file","createNewImgContainer","id","path","name","error","console","checkImageCount","imagesCount","document","querySelectorAll","length","preImgContainer","querySelector","remove","createElement","classList","add","preImg","preButton","textContent","appendChild","images","addEventListener","e","target","contains","imgContainer","closest","fileId","dataset","method","ok","Error","newImgContainer","imgElement","src","newButton","insertAdjacentElement","displayImg","log","formData","FormData","append","body","uploadedFile","canAddMoreImages","dndContainer","imgInput","Array","from","catch","preventDefault","dataTransfer"],"sourceRoot":""}